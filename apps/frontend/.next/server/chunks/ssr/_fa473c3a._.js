module.exports=[77156,92106,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>c],77156);let d=(0,b.default)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);a.s(["Clipboard",()=>d],92106)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},63519,24987,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.s(["Phone",()=>c],63519);let d=(0,b.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>d],24987)},2759,a=>{"use strict";a.s(["API_BASE_URL",0,"https://rxsolutionmeds.com"])},87532,13749,50522,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>c],87532);let d=(0,b.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>d],13749);let e=(0,b.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>e],50522)},92258,a=>{"use strict";let b=(0,a.i(70106).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],92258)},9941,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);a.s(["ArrowUpDown",()=>b],9941)},41675,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},66795,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(2759),e=a.i(9941),f=a.i(77156),g=a.i(81560),h=a.i(92106),i=a.i(60246),j=a.i(87532),k=a.i(13749),l=a.i(50522),m=a.i(92258),n=a.i(63519),o=a.i(24987),p=a.i(41675);a.s(["default",0,function(){let[a,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)({key:"id_cliente",direction:null}),[x,y]=(0,c.useState)(1),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch(`${d.API_BASE_URL}/api/customers/`),b=await a.json();q(b)}catch(a){console.error(a)}finally{s(!1)}})()},[]);let D=(0,c.useMemo)(()=>a.filter(a=>{let b=t.toLowerCase(),c=a.nombre?.toLowerCase()||"",d=a.correo?.toLowerCase()||"",e=a.telefono?.toLowerCase()||"";return c.includes(b)||d.includes(b)||e.includes(b)||a.id_cliente.toString().includes(b)}),[a,t]),E=(0,c.useMemo)(()=>v.direction?[...D].sort((a,b)=>{let c=v.key,d=a[c],e=b[c];return("string"==typeof d&&(d=d.toLowerCase()),"string"==typeof e&&(e=e.toLowerCase()),d<e)?"asc"===v.direction?-1:1:d>e?"asc"===v.direction?1:-1:0}):D,[D,v]),F=Math.ceil(E.length/10),G=E.slice((x-1)*10,10*x),H=async a=>{if(B===a){A(null),C(null);return}try{let b=await fetch(`${d.API_BASE_URL}/api/orders/`),c=(await b.json()).filter(b=>b.id_cliente===a);A(c),C(a)}catch(a){console.error("Error fetching orders:",a)}},I=async(a,b)=>{if(confirm(`Are you sure you want to delete customer "${b}"?`))try{let b=await fetch(`${d.API_BASE_URL}/api/customers/${a}`,{method:"DELETE"});if(!b.ok){let a=await b.json();a.error?.includes("associated orders")?alert("Cannot delete this customer because they have associated orders."):alert("Failed to delete customer.");return}alert("Customer deleted successfully!"),q(b=>b.filter(b=>b.id_cliente!==a))}catch(a){console.error("Error deleting customer:",a),alert("An error occurred while deleting the customer.")}};return r?(0,b.jsxs)("div",{className:"flex flex-col justify-center items-center h-screen",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-[#00a2b9] border-t-transparent rounded-full animate-spin mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading customers..."})]}):(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4 md:p-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-[#00a2b9] to-[#00c8d7] bg-clip-text text-transparent flex items-center gap-3",children:[(0,b.jsx)(i.Users,{className:"text-[#00a2b9]",size:32}),"Customers Management"]}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Manage and view all customer information"})]}),(0,b.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:(0,b.jsxs)("div",{className:"relative flex-1 lg:w-72",children:[(0,b.jsx)(j.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,b.jsx)("input",{className:"w-full border-2 border-gray-200 rounded-xl pl-10 pr-4 py-3 focus:ring-4 focus:ring-[#00a2b9]/10 focus:border-[#00a2b9] focus:outline-none transition-all",placeholder:"Search by name, email, phone...",value:t,onChange:a=>u(a.target.value)})]})})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-[#00a2b9]",children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"Total Customers"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:E.length})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-purple-500",children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"New This Month"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:E.filter(a=>{let b=new Date(a.fecha_creacion),c=new Date;return b.getMonth()===c.getMonth()&&b.getFullYear()===c.getFullYear()}).length})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-blue-500",children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"Total Registered"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:a.length})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-sm",children:[(0,b.jsx)("thead",{className:"bg-gradient-to-r from-[#00a2b9] to-[#00c8d7] text-white",children:(0,b.jsxs)("tr",{children:[[{key:"id_cliente",label:"ID"},{key:"nombre",label:"Name"},{key:"correo",label:"Email"},{key:"telefono",label:"Phone"},{key:"direccion",label:"Address"},{key:"fecha_creacion",label:"Registered"}].map(a=>(0,b.jsx)("th",{onClick:()=>{var b;return b=a.key,void w(a=>{if(a.key===b){if("asc"===a.direction)return{key:b,direction:"desc"};if("desc"===a.direction)return{key:b,direction:null}}return{key:b,direction:"asc"}})},className:"px-6 py-4 text-left cursor-pointer select-none hover:bg-white/10 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 font-semibold",children:[a.label,(0,b.jsx)(e.ArrowUpDown,{size:16,className:"opacity-70"})]})},a.key)),(0,b.jsx)("th",{className:"px-6 py-4 text-left font-semibold",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===G.length?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:7,className:"px-6 py-12 text-center",children:[(0,b.jsx)(i.Users,{className:"mx-auto mb-3 text-gray-300",size:48}),(0,b.jsx)("p",{className:"text-gray-500 font-medium",children:"No customers found"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Try adjusting your search"})]})}):G.map(a=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("span",{className:"font-semibold text-[#00a2b9]",children:["#",a.id_cliente]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("p",{className:"font-medium text-gray-900",children:a.nombre})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,b.jsx)(m.Mail,{size:14,className:"text-gray-400"}),(0,b.jsx)("span",{className:"text-sm",children:a.correo})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,b.jsx)(n.Phone,{size:14,className:"text-gray-400"}),(0,b.jsx)("span",{className:"text-sm",children:a.telefono})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,b.jsx)(o.MapPin,{size:14,className:"text-gray-400"}),(0,b.jsx)("span",{className:"text-sm",children:a.direccion})]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-600",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Calendar,{size:14,className:"text-gray-400"}),(0,b.jsx)("span",{className:"text-sm",children:new Date(a.fecha_creacion).toLocaleDateString()})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>H(a.id_cliente),className:"p-2 text-[#00a2b9] hover:bg-[#00a2b9]/10 rounded-lg transition-all hover:scale-110","aria-label":"View customer orders",title:"View orders",children:(0,b.jsx)(f.Eye,{size:18})}),(0,b.jsx)("button",{onClick:()=>{let b;return b=`
ðŸ‘¤ Cliente #${a.id_cliente}
Nombre: ${a.nombre}
ðŸ“§ Correo: ${a.correo}
ðŸ“ž Tel\xe9fono: ${a.telefono}
ðŸ  Direcci\xf3n: ${a.direccion}
ðŸ“… Fecha de creaci\xf3n: ${new Date(a.fecha_creacion).toLocaleString()}
    `,void(navigator.clipboard.writeText(b),alert("âœ… Detalles del cliente copiados al portapapeles"))},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-all hover:scale-110","aria-label":"Copy customer details",title:"Copy to clipboard",children:(0,b.jsx)(h.Clipboard,{size:18})}),(0,b.jsx)("button",{onClick:()=>I(a.id_cliente,a.nombre),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all hover:scale-110","aria-label":"Delete customer",title:"Delete customer",children:(0,b.jsx)(g.Trash2,{size:18})})]})})]},a.id_cliente),B===a.id_cliente&&z&&(0,b.jsx)("tr",{className:"bg-gradient-to-r from-[#00a2b9]/5 to-transparent",children:(0,b.jsx)("td",{colSpan:7,className:"px-6 py-6",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-inner border-2 border-[#00a2b9]/20",children:[(0,b.jsxs)("h4",{className:"font-bold text-lg text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(i.Users,{className:"text-[#00a2b9]",size:20}),"Customer Orders"]}),0===z.length?(0,b.jsx)("p",{className:"text-gray-500 text-center py-4",children:"This customer has no orders yet."}):(0,b.jsxs)("div",{className:"space-y-3",children:[z.map(a=>(0,b.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-100 last:border-0",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("p",{className:"font-medium text-gray-900",children:["Order #",a.id_pedido]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(a.fecha_pedido).toLocaleDateString()," â€¢",(0,b.jsx)("span",{className:`ml-2 ${["pending","pendiente"].includes(a.estatus.toLowerCase())?"text-yellow-600":"text-green-600"}`,children:a.estatus})]})]}),(0,b.jsxs)("p",{className:"font-bold text-[#00a2b9] text-lg",children:["$",a.total.toFixed(2)]})]},a.id_pedido)),(0,b.jsxs)("div",{className:"mt-6 pt-4 border-t-2 border-[#00a2b9]/20 flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-gray-700 font-semibold text-lg",children:"Total Orders:"}),(0,b.jsx)("span",{className:"text-2xl font-bold text-[#00a2b9]",children:z.length})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-gray-700 font-semibold text-lg",children:"Total Spent:"}),(0,b.jsxs)("span",{className:"text-2xl font-bold text-[#00a2b9]",children:["$",z.reduce((a,b)=>a+b.total,0).toFixed(2)]})]})]})]})})})]}))})]})}),G.length>0&&(0,b.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex flex-col sm:flex-row justify-between items-center gap-4 border-t",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["Showing ",(0,b.jsx)("span",{className:"font-semibold",children:(x-1)*10+1})," to"," ",(0,b.jsx)("span",{className:"font-semibold",children:Math.min(10*x,E.length)})," ","of ",(0,b.jsx)("span",{className:"font-semibold",children:E.length})," customers"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{disabled:1===x,onClick:()=>y(a=>a-1),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${1===x?"text-gray-400 bg-gray-200 cursor-not-allowed":"text-white bg-[#00a2b9] hover:bg-[#008899] shadow-md hover:shadow-lg"}`,children:[(0,b.jsx)(k.ChevronLeft,{size:16}),"Previous"]}),(0,b.jsxs)("button",{disabled:x===F||0===F,onClick:()=>y(a=>a+1),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${x===F||0===F?"text-gray-400 bg-gray-200 cursor-not-allowed":"text-white bg-[#00a2b9] hover:bg-[#008899] shadow-md hover:shadow-lg"}`,children:["Next",(0,b.jsx)(l.ChevronRight,{size:16})]})]})]})]})]})})}])}];

//# sourceMappingURL=_fa473c3a._.js.map