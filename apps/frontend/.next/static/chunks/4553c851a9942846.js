(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86536,48939,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536);let a=(0,t.default)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);e.s(["Clipboard",()=>a],48939)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},43432,46897,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>s],43432);let a=(0,t.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>a],46897)},47133,e=>{"use strict";e.s(["API_BASE_URL",0,"https://rxsolutionmeds.com"])},55436,73375,63059,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>s],55436);let a=(0,t.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>a],73375);let r=(0,t.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>r],63059)},63488,e=>{"use strict";let t=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],63488)},99602,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);e.s(["ArrowUpDown",()=>t],99602)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},84526,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(47133),r=e.i(99602),l=e.i(86536),i=e.i(27612),c=e.i(48939),n=e.i(61911),o=e.i(55436),d=e.i(73375),x=e.i(63059),m=e.i(63488),h=e.i(43432),p=e.i(46897),u=e.i(87316);e.s(["default",0,function(){let[e,g]=(0,s.useState)([]),[y,f]=(0,s.useState)(!0),[b,j]=(0,s.useState)(""),[N,v]=(0,s.useState)({key:"id_cliente",direction:null}),[w,k]=(0,s.useState)(1),[C,M]=(0,s.useState)(null),[_,S]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch(`${a.API_BASE_URL}/api/customers/`),t=await e.json();g(t)}catch(e){console.error(e)}finally{f(!1)}})()},[]);let L=(0,s.useMemo)(()=>e.filter(e=>{let t=b.toLowerCase(),s=e.nombre?.toLowerCase()||"",a=e.correo?.toLowerCase()||"",r=e.telefono?.toLowerCase()||"";return s.includes(t)||a.includes(t)||r.includes(t)||e.id_cliente.toString().includes(t)}),[e,b]),A=(0,s.useMemo)(()=>N.direction?[...L].sort((e,t)=>{let s=N.key,a=e[s],r=t[s];return("string"==typeof a&&(a=a.toLowerCase()),"string"==typeof r&&(r=r.toLowerCase()),a<r)?"asc"===N.direction?-1:1:a>r?"asc"===N.direction?1:-1:0}):L,[L,N]),z=Math.ceil(A.length/10),T=A.slice((w-1)*10,10*w),$=async e=>{if(_===e){M(null),S(null);return}try{let t=await fetch(`${a.API_BASE_URL}/api/orders/`),s=(await t.json()).filter(t=>t.id_cliente===e);M(s),S(e)}catch(e){console.error("Error fetching orders:",e)}},D=async(e,t)=>{if(confirm(`Are you sure you want to delete customer "${t}"?`))try{let t=await fetch(`${a.API_BASE_URL}/api/customers/${e}`,{method:"DELETE"});if(!t.ok){let e=await t.json();e.error?.includes("associated orders")?alert("Cannot delete this customer because they have associated orders."):alert("Failed to delete customer.");return}alert("Customer deleted successfully!"),g(t=>t.filter(t=>t.id_cliente!==e))}catch(e){console.error("Error deleting customer:",e),alert("An error occurred while deleting the customer.")}};return y?(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center h-screen",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-[#00a2b9] border-t-transparent rounded-full animate-spin mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading customers..."})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4 md:p-8",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-[#00a2b9] to-[#00c8d7] bg-clip-text text-transparent flex items-center gap-3",children:[(0,t.jsx)(n.Users,{className:"text-[#00a2b9]",size:32}),"Customers Management"]}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Manage and view all customer information"})]}),(0,t.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:(0,t.jsxs)("div",{className:"relative flex-1 lg:w-72",children:[(0,t.jsx)(o.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,t.jsx)("input",{className:"w-full border-2 border-gray-200 rounded-xl pl-10 pr-4 py-3 focus:ring-4 focus:ring-[#00a2b9]/10 focus:border-[#00a2b9] focus:outline-none transition-all",placeholder:"Search by name, email, phone...",value:b,onChange:e=>j(e.target.value)})]})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-[#00a2b9]",children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"Total Customers"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:A.length})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-purple-500",children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"New This Month"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:A.filter(e=>{let t=new Date(e.fecha_creacion),s=new Date;return t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()}).length})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-blue-500",children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"Total Registered"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-sm",children:[(0,t.jsx)("thead",{className:"bg-gradient-to-r from-[#00a2b9] to-[#00c8d7] text-white",children:(0,t.jsxs)("tr",{children:[[{key:"id_cliente",label:"ID"},{key:"nombre",label:"Name"},{key:"correo",label:"Email"},{key:"telefono",label:"Phone"},{key:"direccion",label:"Address"},{key:"fecha_creacion",label:"Registered"}].map(e=>(0,t.jsx)("th",{onClick:()=>{var t;return t=e.key,void v(e=>{if(e.key===t){if("asc"===e.direction)return{key:t,direction:"desc"};if("desc"===e.direction)return{key:t,direction:null}}return{key:t,direction:"asc"}})},className:"px-6 py-4 text-left cursor-pointer select-none hover:bg-white/10 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 font-semibold",children:[e.label,(0,t.jsx)(r.ArrowUpDown,{size:16,className:"opacity-70"})]})},e.key)),(0,t.jsx)("th",{className:"px-6 py-4 text-left font-semibold",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===T.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:7,className:"px-6 py-12 text-center",children:[(0,t.jsx)(n.Users,{className:"mx-auto mb-3 text-gray-300",size:48}),(0,t.jsx)("p",{className:"text-gray-500 font-medium",children:"No customers found"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Try adjusting your search"})]})}):T.map(e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("span",{className:"font-semibold text-[#00a2b9]",children:["#",e.id_cliente]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.nombre})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,t.jsx)(m.Mail,{size:14,className:"text-gray-400"}),(0,t.jsx)("span",{className:"text-sm",children:e.correo})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,t.jsx)(h.Phone,{size:14,className:"text-gray-400"}),(0,t.jsx)("span",{className:"text-sm",children:e.telefono})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,t.jsx)(p.MapPin,{size:14,className:"text-gray-400"}),(0,t.jsx)("span",{className:"text-sm",children:e.direccion})]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-gray-600",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Calendar,{size:14,className:"text-gray-400"}),(0,t.jsx)("span",{className:"text-sm",children:new Date(e.fecha_creacion).toLocaleDateString()})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>$(e.id_cliente),className:"p-2 text-[#00a2b9] hover:bg-[#00a2b9]/10 rounded-lg transition-all hover:scale-110","aria-label":"View customer orders",title:"View orders",children:(0,t.jsx)(l.Eye,{size:18})}),(0,t.jsx)("button",{onClick:()=>{let t;return t=`
ðŸ‘¤ Cliente #${e.id_cliente}
Nombre: ${e.nombre}
ðŸ“§ Correo: ${e.correo}
ðŸ“ž Tel\xe9fono: ${e.telefono}
ðŸ  Direcci\xf3n: ${e.direccion}
ðŸ“… Fecha de creaci\xf3n: ${new Date(e.fecha_creacion).toLocaleString()}
    `,void(navigator.clipboard.writeText(t),alert("âœ… Detalles del cliente copiados al portapapeles"))},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-all hover:scale-110","aria-label":"Copy customer details",title:"Copy to clipboard",children:(0,t.jsx)(c.Clipboard,{size:18})}),(0,t.jsx)("button",{onClick:()=>D(e.id_cliente,e.nombre),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all hover:scale-110","aria-label":"Delete customer",title:"Delete customer",children:(0,t.jsx)(i.Trash2,{size:18})})]})})]},e.id_cliente),_===e.id_cliente&&C&&(0,t.jsx)("tr",{className:"bg-gradient-to-r from-[#00a2b9]/5 to-transparent",children:(0,t.jsx)("td",{colSpan:7,className:"px-6 py-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-inner border-2 border-[#00a2b9]/20",children:[(0,t.jsxs)("h4",{className:"font-bold text-lg text-gray-900 mb-4 flex items-center gap-2",children:[(0,t.jsx)(n.Users,{className:"text-[#00a2b9]",size:20}),"Customer Orders"]}),0===C.length?(0,t.jsx)("p",{className:"text-gray-500 text-center py-4",children:"This customer has no orders yet."}):(0,t.jsxs)("div",{className:"space-y-3",children:[C.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-100 last:border-0",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"font-medium text-gray-900",children:["Order #",e.id_pedido]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(e.fecha_pedido).toLocaleDateString()," â€¢",(0,t.jsx)("span",{className:`ml-2 ${["pending","pendiente"].includes(e.estatus.toLowerCase())?"text-yellow-600":"text-green-600"}`,children:e.estatus})]})]}),(0,t.jsxs)("p",{className:"font-bold text-[#00a2b9] text-lg",children:["$",e.total.toFixed(2)]})]},e.id_pedido)),(0,t.jsxs)("div",{className:"mt-6 pt-4 border-t-2 border-[#00a2b9]/20 flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-700 font-semibold text-lg",children:"Total Orders:"}),(0,t.jsx)("span",{className:"text-2xl font-bold text-[#00a2b9]",children:C.length})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-700 font-semibold text-lg",children:"Total Spent:"}),(0,t.jsxs)("span",{className:"text-2xl font-bold text-[#00a2b9]",children:["$",C.reduce((e,t)=>e+t.total,0).toFixed(2)]})]})]})]})})})]}))})]})}),T.length>0&&(0,t.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex flex-col sm:flex-row justify-between items-center gap-4 border-t",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Showing ",(0,t.jsx)("span",{className:"font-semibold",children:(w-1)*10+1})," to"," ",(0,t.jsx)("span",{className:"font-semibold",children:Math.min(10*w,A.length)})," ","of ",(0,t.jsx)("span",{className:"font-semibold",children:A.length})," customers"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{disabled:1===w,onClick:()=>k(e=>e-1),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${1===w?"text-gray-400 bg-gray-200 cursor-not-allowed":"text-white bg-[#00a2b9] hover:bg-[#008899] shadow-md hover:shadow-lg"}`,children:[(0,t.jsx)(d.ChevronLeft,{size:16}),"Previous"]}),(0,t.jsxs)("button",{disabled:w===z||0===z,onClick:()=>k(e=>e+1),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${w===z||0===z?"text-gray-400 bg-gray-200 cursor-not-allowed":"text-white bg-[#00a2b9] hover:bg-[#008899] shadow-md hover:shadow-lg"}`,children:["Next",(0,t.jsx)(x.ChevronRight,{size:16})]})]})]})]})]})})}])}]);